if(window.self!==window.top){mw.require("liveedit.css"),mw.require("moveable.js"),mw.lib.require("jqueryui"),mw.liveEditSaveService={grammarlyFix:function(e){return mw.$("grammarly-btn",e).remove(),mw.$("grammarly-card",e).remove(),mw.$("g.gr_",e).each(function(){mw.$(this).replaceWith(this.innerHTML)}),mw.$("[data-gramm_id]",e).removeAttr("data-gramm_id"),mw.$("[data-gramm]",e).removeAttr("data-gramm"),mw.$("[data-gramm_id]",e).removeAttr("data-gramm_id"),mw.$("grammarly-card",e).remove(),mw.$("grammarly-inline-cards",e).remove(),mw.$("grammarly-popups",e).remove(),mw.$("grammarly-extension",e).remove(),e},saving:!1,coreSave:function(e){if(!e)return!1;$.each(e,function(){var t=mw.tools.parseHtml(this.html).body;mw.liveEditSaveService.grammarlyFix(t),mw.liveEditSaveService.animationsClearFix(t),this.html=t.innerHTML}),mw.liveEditSaveService.saving=!0,e.from_url=window.location.href,typeof mw.liveEditIframeData<"u"&&(typeof mw.liveEditIframeData.content_link<"u"&&(e.from_url=mw.liveEditIframeData.content_link),typeof mw.liveEditIframeData.multiLanguageCurrentLanguage<"u"&&(e.lang=mw.liveEditIframeData.multiLanguageCurrentLanguage)),e=JSON.stringify(e),e=btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(i,r){return String.fromCharCode("0x"+r)})),e={data_base64:e};var a=mw.ajax({type:"POST",url:mw.settings.api_url+"save_edit",data:e,dataType:"json",success:function(t){t&&t.new_page_url&&!mw.liveEditSaveService.DraftSaving&&(window.mw.parent().askusertostay=!1,window.mw.askusertostay=!1,window.location.href=t.new_page_url)}});return a.always(function(){mw.liveEditSaveService.saving=!1}),a},parseContent:function(e){e=e||document.body;var a=mw.tools.parseHtml(e.innerHTML);mw.$(".element-current",a).removeClass("element-current"),mw.$(".element-active",a).removeClass("element-active"),mw.$(".disable-resize",a).removeClass("disable-resize"),mw.$(".mw-module-drag-clone",a).removeClass("mw-module-drag-clone"),mw.$(".ui-draggable",a).removeClass("ui-draggable"),mw.$(".ui-draggable-handle",a).removeClass("ui-draggable-handle"),mw.$(".mt-ready",a).removeClass("mt-ready"),mw.$(".mw-webkit-drag-hover-binded",a).removeClass("mw-webkit-drag-hover-binded"),mw.$(".module-cat-toggle-Modules",a).removeClass("module-cat-toggle-Modules"),mw.$(".mw-module-drag-clone",a).removeClass("mw-module-drag-clone"),mw.$(".mce-edit-focus",a).removeClass("mce-edit-focus"),mw.$(".mce-edit-body",a).removeClass("mce-edit-body"),mw.$("[data-mce-style]",a).removeAttr("data-mce-style"),mw.$("[mce-content-body]",a).removeAttr("mce-content-body"),mw.$("[data-mce-style]",a).removeAttr("data-mce-style"),mw.$("[data-mce-selected]",a).removeAttr("data-mce-selected"),mw.$("[data-mce-href]",a).removeAttr("data-mce-href"),mw.$("-module",a).removeClass("-module"),mw.$(".empty-element",a).remove(),mw.$(".empty-element",a).remove(),mw.$("[data-mce-bogus]",a).remove(),mw.$(".edit .ui-resizable-handle",a).remove(),mw.$("script",a).remove(),mw.$(".moveable-control-box",a).remove(),mw.tools.classNamespaceDelete("all","ui-",a,"starts"),mw.$("[contenteditable]",a).removeAttr("contenteditable");for(var t=a.querySelectorAll("[contenteditable]"),i=t.length,r=0;r<i;r++)t[r].removeAttribute("contenteditable");for(var t=a.querySelectorAll(".module"),i=t.length,r=0;r<i;r++)t[r].querySelector(".edit")===null&&(t[r].innerHTML="");return a},htmlAttrValidate:function(e){var a=[];return $.each(e,function(){var t=this.outerHTML;t=t.replace(/url\(&quot;/g,"url('"),t=t.replace(/jpg&quot;/g,"jpg'"),t=t.replace(/jpeg&quot;/g,"jpeg'"),t=t.replace(/png&quot;/g,"png'"),t=t.replace(/gif&quot;/g,"gif'"),a.push($(t)[0])}),a},cleanUnwantedTags:function(e){return mw.$(".mw-skip-and-remove,script",e).remove(),e},animationsClearFix:function(e){return mw.$('[class*="animate__"]').each(function(){mw.tools.classNamespaceDelete(this,"animate__")}),e},collectData:function(e){mw.$(e).each(function(){mw.$("meta",this).remove(),$(".mw-le-spacer",this).empty().removeAttr("data-resizable").removeAttr("style")}),e=this.htmlAttrValidate(e);var a=e.length,t=0,i={},r={};if(a>0)for(;t<a;t++){i.item=e[t];var n=mw.tools.mwattr(i.item,"rel");n||(mw.$(i.item).removeClass("changed"),mw.tools.foreachParents(i.item,function(d){var u=this.className,g=mw.tools.mwattr(this,"rel");mw.tools.hasClass(u,"edit")&&mw.tools.hasClass(u,"changed")&&g&&(i.item=this,mw.tools.stopLoop(d))}));var n=mw.tools.mwattr(i.item,"rel");if(!n){var c=i.item.id?"#"+i.item.id:"";console.warn("Skipped save: .edit"+c+" element does not have rel attribute.");continue}mw.$(i.item).removeClass("changed orig_changed"),mw.$(i.item).removeClass("module-over"),mw.$(".mw-le-ghost-layout",i.item).remove(),mw.$("#mw-non-existing-temp-element-holder",i.item).remove(),mw.$(".module-over",i.item).each(function(){mw.$(this).removeClass("module-over")}),mw.$(".element[data-mwplaceholder]",i.item).each(function(){var d=!this.innerHTML.trim();d||mw.$(this).removeAttr("data-mwplaceholder")}),mw.$(".element.lipsum",i.item).each(function(){mw.$(this).removeClass("lipsum")}),mw.$("[data-mw-live-edithover]",i.item).each(function(){mw.$(this).removeAttr("data-mw-live-edithover")}),mw.$("[data-mw-temp-option-save]",i.item).each(function(){mw.$(this).removeAttr("data-mw-temp-option-save")}),mw.$("[class]",i.item).each(function(){var d=this.getAttribute("class");typeof d=="string"&&(d=d.trim()),d||this.removeAttribute("class")});var s=mw.liveEditSaveService.cleanUnwantedTags(i.item).innerHTML,m={},o=i.item.attributes;if(o.length>0)for(var l=0,w=o.length;l<w;l++)m[o[l].nodeName]=o[l].nodeValue;var f={attributes:m,html:s},p="field_data_"+t;r[p]=f}return r},getData:function(e){var a=mw.liveEditSaveService.parseContent(e).body,t=a.querySelectorAll(".edit.changed");return mw.liveEditSaveService.collectData(t)},saveDisabled:!1,draftDisabled:!1,save:function(e,a,t){if(mw.trigger("beforeSaveStart",e),mw.top().app&&mw.top().app&&mw.top().app.cssEditor&&mw.top().app.cssEditor.publishIfChanged(),mw.top().app&&mw.top().app&&mw.top().options&&mw.top().options.publishTempOptions(document),mw.liveEditSaveService.saveDisabled)return!1;if(!e){var i=mw.liveEditSaveService.parseContent().body,r=i.querySelectorAll(".edit.changed");e=mw.liveEditSaveService.collectData(r)}var n=(mw.__pageAnimations||[]).filter(function(m){return m.animation!=="none"});if(n&&n.length>0){var c={group:"template",key:"animations-global",value:JSON.stringify(n)};mw.top().options.saveOption(c)}if(mw.tools.isEmptyObject(e))return a&&a.call({}),!1;mw._liveeditData=e,mw.trigger("saveStart",mw._liveeditData);var s=mw.liveEditSaveService.coreSave(mw._liveeditData);return s.error(function(m){s.status==403&&(mw.dialog({id:"save_content_error_iframe_modal",html:"<iframe id='save_content_error_iframe' style='overflow-x:hidden;overflow-y:auto;' class='mw-modal-frame' ></iframe>",width:$(window).width()-90,height:$(window).height()-90}),mw.askusertostay=!1,mw.$("#save_content_error_iframe").ready(function(){var o=document.getElementById("save_content_error_iframe").contentWindow.document;o.open(),o.write(s.responseText),o.close();var l=0;o=document.getElementById("save_content_error_iframe").contentWindow.document,mw.$("#save_content_error_iframe").load(function(){var w=mw.$(".challenge-form",o).length;l++,w&&l==2&&setTimeout(function(){mw.askusertostay=!1,mw.$("#save_content_error_iframe_modal").remove()},150)})})),t&&t.call(m)}),s.success(function(m){mw.$(".edit.changed").removeClass("changed"),mw.$(".orig_changed").removeClass("orig_changed"),document.querySelector(".edit.changed")!==null?mw.liveEditSaveService.save():(mw.askusertostay=!1,mw.trigger("saveEnd",m)),a&&a.call(m)}),s.fail(function(m,o,l){mw.trigger("saveFailed",o,l),t&&t.call(sdata)}),s}},mw.saveLiveEdit=async()=>new Promise(e=>{mw.liveEditSaveService.save(void 0,()=>e(!0),()=>e(!1))}),mw.top().app.save=async()=>await mw.saveLiveEdit(),addEventListener("load",()=>{window.addEventListener("keydown",function(a){mw.top().app.canvas.dispatch("iframeKeyDown",{event:a})}),mw.$("span.mw-powered-by").on("click",function(a){return mw.top().tools.open_global_module_settings_modal("white_label/admin","mw-powered-by"),!1}),function(){function a(t){const i=!t.innerHTML.trim();i&&t.innerHTML.trim()===t.textContent.trim()||t.classList[i?"add":"remove"]("mw-le-empty-element")}document.querySelectorAll(".edit").forEach(function(t){t.__$$_handleEmptyEditFields||(t.__$$_handleEmptyEditFields=!0,a(t),t.addEventListener("input",function(){a(this)}))}),mw.top().app.on("editChanged",t=>{setTimeout(()=>a(t))})}()});let v=null;mw.top().app.isNavigating=()=>!!v&&v.returnValue&&v.defaultPrevented===!0,self.onbeforeunload=function(e){v=e;var a=self;if(a.mw.isNavigating=!0,typeof mw.top=="function"&&mw.top().app.canvas&&mw.top().app.canvas.dispatch("liveEditCanvasBeforeUnload"),setTimeout(function(i){i&&i&&i.mw&&(i.mw.isNavigating=!1)},1,a),a&&a.mw&&a.mw.askusertostay)return!0;if(typeof mw.top=="function"&&mw.top().app.canvas){var t=mw.top().app.canvas.getFrame();t&&t.parentElement&&mw.top().spinner({element:t.parentElement,decorate:!0,size:52}).show()}},mw.drag=mw.drag||{},mw.drag.save=function(){return mw.liveEditSaveService.save()},mw.drag.fix_placeholders=function(e,a){a=a||".edit .row";var t="div.col-md",i=mw.top().app.templateSettings.helperClasses.external_grids_col_classes,r;for(r=i.length-1;r>=0;--r)t+=",div."+i[r];mw.$(a).each(function(){var n=mw.$(this);n.children(t).each(function(){var c=mw.$(this).children("*");if(c.size()==0){mw.$(this).append('<div class="element" id="mw-element-'+mw.random()+'"></div>');var c=mw.$(this).children("div.element")}})})},mw.drag.module_settings=function(){var e=mw.top().app.liveEdit.moduleHandle.getTarget();return mw.top().app.editor.dispatch("onModuleSettingsRequest",e)},document.documentElement.addEventListener("click",function(e){var a=e.target,t=mw.tools.firstParentOrCurrentWithTag(a,"a");if(t&&t.href.indexOf("javascript:")!==0&&!t.isContentEditable){const i=document.createElement("a");i.href=t.href,i.host!==location.host&&(!t.target||t.target==="_self")&&(e.preventDefault(),open(t.href))}}),document.addEventListener("keydown",function(e){if(e.ctrlKey&&e.keyCode===83)return mw.top().app.editor.dispatch("Ctrl+S",e)}),document.body.addEventListener("mouseenter",function(e){$("body").removeClass("mw-live-body-mouse-moved-outside")}),document.body.addEventListener("mouseleave",function(e){$("body").addClass("mw-live-body-mouse-moved-outside")})}self===top&&window.addEventListener("load",v=>{if(window.mwLiveEditIframeBackUrl){var e=document.createElement("a");e.id="back-to-live-sticky-button",e.textContent="Go Live Edit",e.href=window.mwLiveEditIframeBackUrl,e.classList.add("sticky"),document.body.appendChild(e),e.classList.add("sticky");var a=document.createElement("style");a.textContent=`
                    #back-to-live-sticky-button {
                        position: fixed;
                        left: 50%;
                        transform: translateX(-50%);
                        z-index: 1001;
                        transition: top 0.3s;
                        background: #3498db;
                        color: #fff !important;
                        padding: 10px 20px;
                        border-radius: 5px;
                        border-top-left-radius: 0;
                        border-top-right-radius: 0;
                        font-family: Arial, sans-serif;
                        border: none;
                        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
                        cursor: pointer;
                    }

                    #back-to-live-sticky-button:hover {
                        background: #2980b9;
                    }


                    #back-to-live-sticky-button.sticky {
                        top: 0;
                    }




            `,document.head.appendChild(a)}document.querySelectorAll('.no-select [class*="col"]').forEach(function(t){Array.from(t.children).filter(i=>i.classList.contains("element")).length&&t.classList.add("allow-select")})});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGl2ZS1lZGl0LXBhZ2Utc2NyaXB0cy1mMTViMDlmZC5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL01pY3Jvd2ViZXJQYWNrYWdlcy9MaXZlRWRpdC9yZXNvdXJjZXMvanMvdWkvbGl2ZS1lZGl0LXBhZ2Utc2NyaXB0cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxuXHJcblxyXG5cclxuaWYod2luZG93LnNlbGYgIT09IHdpbmRvdy50b3ApIHtcclxuXHJcbiAgICBtdy5yZXF1aXJlKCdsaXZlZWRpdC5jc3MnKTtcclxuICAgIG13LnJlcXVpcmUoJ21vdmVhYmxlLmpzJyk7XHJcbiAgICAvL213LnJlcXVpcmUoJ29wdGlvbnMuanMnKTtcclxuXHJcblxyXG4gICAgLy9tdy5saWIucmVxdWlyZSgndGlueW1jZScpO1xyXG4gICAgbXcubGliLnJlcXVpcmUoJ2pxdWVyeXVpJyk7XHJcblxyXG4gICAgbXcubGl2ZUVkaXRTYXZlU2VydmljZSA9IHtcclxuICAgICAgICBncmFtbWFybHlGaXg6IGZ1bmN0aW9uIChkYXRhKSB7XHJcblxyXG4gICAgICAgICAgICBtdy4kKFwiZ3JhbW1hcmx5LWJ0blwiLCBkYXRhKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgbXcuJChcImdyYW1tYXJseS1jYXJkXCIsIGRhdGEpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICBtdy4kKFwiZy5ncl9cIiwgZGF0YSkuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBtdy4kKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuaW5uZXJIVE1MKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG13LiQoXCJbZGF0YS1ncmFtbV9pZF1cIiwgZGF0YSkucmVtb3ZlQXR0cignZGF0YS1ncmFtbV9pZCcpO1xyXG4gICAgICAgICAgICBtdy4kKFwiW2RhdGEtZ3JhbW1dXCIsIGRhdGEpLnJlbW92ZUF0dHIoJ2RhdGEtZ3JhbW0nKTtcclxuICAgICAgICAgICAgbXcuJChcIltkYXRhLWdyYW1tX2lkXVwiLCBkYXRhKS5yZW1vdmVBdHRyKCdkYXRhLWdyYW1tX2lkJyk7XHJcbiAgICAgICAgICAgIG13LiQoXCJncmFtbWFybHktY2FyZFwiLCBkYXRhKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgbXcuJChcImdyYW1tYXJseS1pbmxpbmUtY2FyZHNcIiwgZGF0YSkucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIG13LiQoXCJncmFtbWFybHktcG9wdXBzXCIsIGRhdGEpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICBtdy4kKFwiZ3JhbW1hcmx5LWV4dGVuc2lvblwiLCBkYXRhKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzYXZpbmc6IGZhbHNlLFxyXG4gICAgICAgIGNvcmVTYXZlOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICBpZiAoIWRhdGEpIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgJC5lYWNoKGRhdGEsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBib2R5ID0gbXcudG9vbHMucGFyc2VIdG1sKHRoaXMuaHRtbCkuYm9keTtcclxuICAgICAgICAgICAgICAgIG13LmxpdmVFZGl0U2F2ZVNlcnZpY2UuZ3JhbW1hcmx5Rml4KGJvZHkpO1xyXG4gICAgICAgICAgICAgICAgbXcubGl2ZUVkaXRTYXZlU2VydmljZS5hbmltYXRpb25zQ2xlYXJGaXgoYm9keSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmh0bWwgPSBib2R5LmlubmVySFRNTDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG13LmxpdmVFZGl0U2F2ZVNlcnZpY2Uuc2F2aW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIC8qKioqKioqKioqKiogIFNUQVJUIGJhc2U2NCAgKioqKioqKioqKioqL1xyXG4gICAgICAgICAgICBkYXRhLmZyb21fdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XHJcblxyXG5cclxuICAgICAgICAgICAgaWYodHlwZW9mIG13LmxpdmVFZGl0SWZyYW1lRGF0YSAhPT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgICAgICAgICAgLy9zb21ldGltZXMgdGhlIHVybCBjYW4gYmUgbW9kaWZpZWQgYnkgcG9wIHN0YXRlLCBzbyB3ZSB1c2UgaWZyYW1lZGF0YSBvcmlnaW5hbCB1cmxcclxuICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBtdy5saXZlRWRpdElmcmFtZURhdGEuY29udGVudF9saW5rICE9PSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5mcm9tX3VybCA9ICBtdy5saXZlRWRpdElmcmFtZURhdGEuY29udGVudF9saW5rO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vc29tZXRpbWVzIHRoZSBsYW5nIGNhbiBiZSBtb2RpZmllZCBmcm9tIGFub3RoZXIgdGFiLCBzbyB3ZSB1c2UgaWZyYW1lZGF0YSBvcmlnaW5hbCBsYW5nXHJcbiAgICAgICAgICAgICAgICBpZih0eXBlb2YgbXcubGl2ZUVkaXRJZnJhbWVEYXRhLm11bHRpTGFuZ3VhZ2VDdXJyZW50TGFuZ3VhZ2UgIT09ICd1bmRlZmluZWQnKXtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmxhbmcgPSBtdy5saXZlRWRpdElmcmFtZURhdGEubXVsdGlMYW5ndWFnZUN1cnJlbnRMYW5ndWFnZTtcclxuICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICBkYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XHJcbiAgICAgICAgICAgIGRhdGEgPSBidG9hKGVuY29kZVVSSUNvbXBvbmVudChkYXRhKS5yZXBsYWNlKC8lKFswLTlBLUZdezJ9KS9nLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gdG9Tb2xpZEJ5dGVzKG1hdGNoLCBwMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKCcweCcgKyBwMSk7XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIGRhdGEgPSB7ZGF0YV9iYXNlNjQ6IGRhdGF9O1xyXG4gICAgICAgICAgICAvKioqKioqKioqKioqICBFTkQgYmFzZTY0ICAqKioqKioqKioqKiovXHJcblxyXG4gICAgICAgICAgICB2YXIgeGhyID0gbXcuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICB1cmw6IG13LnNldHRpbmdzLmFwaV91cmwgKyAnc2F2ZV9lZGl0JyxcclxuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoc2F2ZWRfZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzYXZlZF9kYXRhICYmIHNhdmVkX2RhdGEubmV3X3BhZ2VfdXJsICYmICFtdy5saXZlRWRpdFNhdmVTZXJ2aWNlLkRyYWZ0U2F2aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tdy5wYXJlbnQoKS5hc2t1c2VydG9zdGF5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tdy5hc2t1c2VydG9zdGF5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gc2F2ZWRfZGF0YS5uZXdfcGFnZV91cmw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB4aHIuYWx3YXlzKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIG13LmxpdmVFZGl0U2F2ZVNlcnZpY2Uuc2F2aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4geGhyO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcGFyc2VDb250ZW50OiBmdW5jdGlvbiAocm9vdCkge1xyXG4gICAgICAgICAgICByb290ID0gcm9vdCB8fCBkb2N1bWVudC5ib2R5O1xyXG4gICAgICAgICAgICB2YXIgZG9jID0gbXcudG9vbHMucGFyc2VIdG1sKHJvb3QuaW5uZXJIVE1MKTtcclxuICAgICAgICAgICAgbXcuJCgnLmVsZW1lbnQtY3VycmVudCcsIGRvYykucmVtb3ZlQ2xhc3MoJ2VsZW1lbnQtY3VycmVudCcpO1xyXG4gICAgICAgICAgICBtdy4kKCcuZWxlbWVudC1hY3RpdmUnLCBkb2MpLnJlbW92ZUNsYXNzKCdlbGVtZW50LWFjdGl2ZScpO1xyXG4gICAgICAgICAgICBtdy4kKCcuZGlzYWJsZS1yZXNpemUnLCBkb2MpLnJlbW92ZUNsYXNzKCdkaXNhYmxlLXJlc2l6ZScpO1xyXG4gICAgICAgICAgICBtdy4kKCcubXctbW9kdWxlLWRyYWctY2xvbmUnLCBkb2MpLnJlbW92ZUNsYXNzKCdtdy1tb2R1bGUtZHJhZy1jbG9uZScpO1xyXG4gICAgICAgICAgICBtdy4kKCcudWktZHJhZ2dhYmxlJywgZG9jKS5yZW1vdmVDbGFzcygndWktZHJhZ2dhYmxlJyk7XHJcbiAgICAgICAgICAgIG13LiQoJy51aS1kcmFnZ2FibGUtaGFuZGxlJywgZG9jKS5yZW1vdmVDbGFzcygndWktZHJhZ2dhYmxlLWhhbmRsZScpO1xyXG4gICAgICAgICAgICBtdy4kKCcubXQtcmVhZHknLCBkb2MpLnJlbW92ZUNsYXNzKCdtdC1yZWFkeScpO1xyXG4gICAgICAgICAgICBtdy4kKCcubXctd2Via2l0LWRyYWctaG92ZXItYmluZGVkJywgZG9jKS5yZW1vdmVDbGFzcygnbXctd2Via2l0LWRyYWctaG92ZXItYmluZGVkJyk7XHJcbiAgICAgICAgICAgIG13LiQoJy5tb2R1bGUtY2F0LXRvZ2dsZS1Nb2R1bGVzJywgZG9jKS5yZW1vdmVDbGFzcygnbW9kdWxlLWNhdC10b2dnbGUtTW9kdWxlcycpO1xyXG4gICAgICAgICAgICBtdy4kKCcubXctbW9kdWxlLWRyYWctY2xvbmUnLCBkb2MpLnJlbW92ZUNsYXNzKCdtdy1tb2R1bGUtZHJhZy1jbG9uZScpO1xyXG4gICAgICAgICAgICBtdy4kKCcubWNlLWVkaXQtZm9jdXMnLCBkb2MpLnJlbW92ZUNsYXNzKCdtY2UtZWRpdC1mb2N1cycpO1xyXG4gICAgICAgICAgICBtdy4kKCcubWNlLWVkaXQtYm9keScsIGRvYykucmVtb3ZlQ2xhc3MoJ21jZS1lZGl0LWJvZHknKTtcclxuICAgICAgICAgICAgbXcuJCgnW2RhdGEtbWNlLXN0eWxlXScsIGRvYykucmVtb3ZlQXR0cignZGF0YS1tY2Utc3R5bGUnKTtcclxuICAgICAgICAgICAgbXcuJCgnW21jZS1jb250ZW50LWJvZHldJywgZG9jKS5yZW1vdmVBdHRyKCdtY2UtY29udGVudC1ib2R5Jyk7XHJcbiAgICAgICAgICAgIG13LiQoJ1tkYXRhLW1jZS1zdHlsZV0nLCBkb2MpLnJlbW92ZUF0dHIoJ2RhdGEtbWNlLXN0eWxlJyk7XHJcbiAgICAgICAgICAgIG13LiQoJ1tkYXRhLW1jZS1zZWxlY3RlZF0nLCBkb2MpLnJlbW92ZUF0dHIoJ2RhdGEtbWNlLXNlbGVjdGVkJyk7XHJcbiAgICAgICAgICAgIG13LiQoJ1tkYXRhLW1jZS1ocmVmXScsIGRvYykucmVtb3ZlQXR0cignZGF0YS1tY2UtaHJlZicpO1xyXG4gICAgICAgICAgICBtdy4kKCctbW9kdWxlJywgZG9jKS5yZW1vdmVDbGFzcygnLW1vZHVsZScpO1xyXG4gICAgICAgICAgICBtdy4kKCcuZW1wdHktZWxlbWVudCcsIGRvYykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIG13LiQoJy5lbXB0eS1lbGVtZW50JywgZG9jKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgbXcuJCgnW2RhdGEtbWNlLWJvZ3VzXScsIGRvYykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIG13LiQoJy5lZGl0IC51aS1yZXNpemFibGUtaGFuZGxlJywgZG9jKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgbXcuJCgnc2NyaXB0JywgZG9jKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgbXcuJCgnLm1vdmVhYmxlLWNvbnRyb2wtYm94JywgZG9jKS5yZW1vdmUoKTtcclxuXHJcblxyXG4gICAgICAgICAgICAvL3ZhciBkb2MgPSBtdy4kKGRvYykuZmluZCgnc2NyaXB0JykucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgICAgICBtdy50b29scy5jbGFzc05hbWVzcGFjZURlbGV0ZSgnYWxsJywgJ3VpLScsIGRvYywgJ3N0YXJ0cycpO1xyXG4gICAgICAgICAgICBtdy4kKFwiW2NvbnRlbnRlZGl0YWJsZV1cIiwgZG9jKS5yZW1vdmVBdHRyKFwiY29udGVudGVkaXRhYmxlXCIpO1xyXG4gICAgICAgICAgICB2YXIgYWxsID0gZG9jLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tjb250ZW50ZWRpdGFibGVdJyksXHJcbiAgICAgICAgICAgICAgICBsID0gYWxsLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIGkgPSAwO1xyXG4gICAgICAgICAgICBmb3IgKDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgYWxsW2ldLnJlbW92ZUF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGFsbCA9IGRvYy5xdWVyeVNlbGVjdG9yQWxsKCcubW9kdWxlJyksXHJcbiAgICAgICAgICAgICAgICBsID0gYWxsLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIGkgPSAwO1xyXG4gICAgICAgICAgICBmb3IgKDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFsbFtpXS5xdWVyeVNlbGVjdG9yKCcuZWRpdCcpID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxsW2ldLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBkb2M7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBodG1sQXR0clZhbGlkYXRlOiBmdW5jdGlvbiAoZWRpdHMpIHtcclxuICAgICAgICAgICAgdmFyIGZpbmFsID0gW107XHJcbiAgICAgICAgICAgICQuZWFjaChlZGl0cywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGh0bWwgPSB0aGlzLm91dGVySFRNTDtcclxuICAgICAgICAgICAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UoL3VybFxcKCZxdW90Oy9nLCBcInVybCgnXCIpO1xyXG4gICAgICAgICAgICAgICAgaHRtbCA9IGh0bWwucmVwbGFjZSgvanBnJnF1b3Q7L2csIFwianBnJ1wiKTtcclxuICAgICAgICAgICAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UoL2pwZWcmcXVvdDsvZywgXCJqcGVnJ1wiKTtcclxuICAgICAgICAgICAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UoL3BuZyZxdW90Oy9nLCBcInBuZydcIik7XHJcbiAgICAgICAgICAgICAgICBodG1sID0gaHRtbC5yZXBsYWNlKC9naWYmcXVvdDsvZywgXCJnaWYnXCIpO1xyXG4gICAgICAgICAgICAgICAgZmluYWwucHVzaCgkKGh0bWwpWzBdKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgcmV0dXJuIGZpbmFsO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2xlYW5VbndhbnRlZFRhZ3M6IGZ1bmN0aW9uIChib2R5KSB7XHJcblxyXG5cclxuICAgICAgICAgICAgbXcuJCgnLm13LXNraXAtYW5kLXJlbW92ZSxzY3JpcHQnLCBib2R5KS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgcmV0dXJuIGJvZHk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhbmltYXRpb25zQ2xlYXJGaXg6IGZ1bmN0aW9uIChib2R5KSB7XHJcbiAgICAgICAgICAgIG13LiQoJ1tjbGFzcyo9XCJhbmltYXRlX19cIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIG13LnRvb2xzLmNsYXNzTmFtZXNwYWNlRGVsZXRlKHRoaXMsICdhbmltYXRlX18nKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBib2R5O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29sbGVjdERhdGE6IGZ1bmN0aW9uIChlZGl0cykge1xyXG4gICAgICAgICAgICBtdy4kKGVkaXRzKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIG13LiQoJ21ldGEnLCB0aGlzKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICQoJy5tdy1sZS1zcGFjZXInLCB0aGlzKS5lbXB0eSgpLnJlbW92ZUF0dHIoJ2RhdGEtcmVzaXphYmxlJykucmVtb3ZlQXR0cignc3R5bGUnKVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGVkaXRzID0gdGhpcy5odG1sQXR0clZhbGlkYXRlKGVkaXRzKTtcclxuICAgICAgICAgICAgdmFyIGwgPSBlZGl0cy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBpID0gMCxcclxuICAgICAgICAgICAgICAgIGhlbHBlciA9IHt9LFxyXG4gICAgICAgICAgICAgICAgbWFzdGVyID0ge307XHJcbiAgICAgICAgICAgIGlmIChsID4gMCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBoZWxwZXIuaXRlbSA9IGVkaXRzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZWwgPSBtdy50b29scy5td2F0dHIoaGVscGVyLml0ZW0sICdyZWwnKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtdy4kKGhlbHBlci5pdGVtKS5yZW1vdmVDbGFzcygnY2hhbmdlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtdy50b29scy5mb3JlYWNoUGFyZW50cyhoZWxwZXIuaXRlbSwgZnVuY3Rpb24gKGxvb3ApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjbHMgPSB0aGlzLmNsYXNzTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWwgPSBtdy50b29scy5td2F0dHIodGhpcywgJ3JlbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG13LnRvb2xzLmhhc0NsYXNzKGNscywgJ2VkaXQnKSAmJiBtdy50b29scy5oYXNDbGFzcyhjbHMsICdjaGFuZ2VkJykgJiYgKCEhcmVsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlbHBlci5pdGVtID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtdy50b29scy5zdG9wTG9vcChsb29wKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZWwgPSBtdy50b29scy5td2F0dHIoaGVscGVyLml0ZW0sICdyZWwnKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmllbGQgPSAhIWhlbHBlci5pdGVtLmlkID8gJyMnICsgaGVscGVyLml0ZW0uaWQgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdTa2lwcGVkIHNhdmU6IC5lZGl0JyArIGZpZWxkICsgJyBlbGVtZW50IGRvZXMgbm90IGhhdmUgcmVsIGF0dHJpYnV0ZS4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG13LiQoaGVscGVyLml0ZW0pLnJlbW92ZUNsYXNzKCdjaGFuZ2VkIG9yaWdfY2hhbmdlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIG13LiQoaGVscGVyLml0ZW0pLnJlbW92ZUNsYXNzKCdtb2R1bGUtb3ZlcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIG13LiQoJy5tdy1sZS1naG9zdC1sYXlvdXQnLCBoZWxwZXIuaXRlbSkucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbXcuJCgnI213LW5vbi1leGlzdGluZy10ZW1wLWVsZW1lbnQtaG9sZGVyJywgaGVscGVyLml0ZW0pLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBtdy4kKCcubW9kdWxlLW92ZXInLCBoZWxwZXIuaXRlbSkuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG13LiQodGhpcykucmVtb3ZlQ2xhc3MoJ21vZHVsZS1vdmVyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICBtdy4kKCcuZWxlbWVudFtkYXRhLW13cGxhY2Vob2xkZXJdJywgaGVscGVyLml0ZW0pLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNFbXB0eSA9ICF0aGlzLmlubmVySFRNTC50cmltKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNFbXB0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXcuJCh0aGlzKS5yZW1vdmVBdHRyKCdkYXRhLW13cGxhY2Vob2xkZXInKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBtdy4kKCcuZWxlbWVudC5saXBzdW0nLCBoZWxwZXIuaXRlbSkuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG13LiQodGhpcykucmVtb3ZlQ2xhc3MoJ2xpcHN1bScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBtdy4kKCdbZGF0YS1tdy1saXZlLWVkaXRob3Zlcl0nLCBoZWxwZXIuaXRlbSkuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG13LiQodGhpcykucmVtb3ZlQXR0cignZGF0YS1tdy1saXZlLWVkaXRob3ZlcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBtdy4kKCdbZGF0YS1tdy10ZW1wLW9wdGlvbi1zYXZlXScsIGhlbHBlci5pdGVtKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbXcuJCh0aGlzKS5yZW1vdmVBdHRyKCdkYXRhLW13LXRlbXAtb3B0aW9uLXNhdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBtdy4kKCdbY2xhc3NdJywgaGVscGVyLml0ZW0pLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xzID0gdGhpcy5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjbHMgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbHMgPSBjbHMudHJpbSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2xzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBtdy5saXZlRWRpdFNhdmVTZXJ2aWNlLmNsZWFuVW53YW50ZWRUYWdzKGhlbHBlci5pdGVtKS5pbm5lckhUTUw7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGF0dHJfb2JqID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGF0dHJzID0gaGVscGVyLml0ZW0uYXR0cmlidXRlcztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWkgPSAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWwgPSBhdHRycy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoOyBhaSA8IGFsOyBhaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyX29ialthdHRyc1thaV0ubm9kZU5hbWVdID0gYXR0cnNbYWldLm5vZGVWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiBhdHRyX29iaixcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogY29udGVudFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9iamRhdGEgPSBcImZpZWxkX2RhdGFfXCIgKyBpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hc3RlcltvYmpkYXRhXSA9IG9iajtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbWFzdGVyO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0RGF0YTogZnVuY3Rpb24gKHJvb3QpIHtcclxuICAgICAgICAgICAgdmFyIGJvZHkgPSBtdy5saXZlRWRpdFNhdmVTZXJ2aWNlLnBhcnNlQ29udGVudChyb290KS5ib2R5LFxyXG4gICAgICAgICAgICAgICAgZWRpdHMgPSBib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoJy5lZGl0LmNoYW5nZWQnKTtcclxuICAgICAgICAgICAgcmV0dXJuIG13LmxpdmVFZGl0U2F2ZVNlcnZpY2UuY29sbGVjdERhdGEoZWRpdHMpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNhdmVEaXNhYmxlZDogZmFsc2UsXHJcbiAgICAgICAgZHJhZnREaXNhYmxlZDogZmFsc2UsXHJcbiAgICAgICAgc2F2ZTogZnVuY3Rpb24gKGRhdGEsIHN1Y2Nlc3MsIGZhaWwpIHtcclxuICAgICAgICAgICAgbXcudHJpZ2dlcignYmVmb3JlU2F2ZVN0YXJ0JywgZGF0YSk7XHJcbiAgICAgICAgICAgIC8vIHRvZG86XHJcblxyXG4gICAgICAgICAgICBpZiAobXcudG9wKCkuYXBwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobXcudG9wKCkuYXBwICYmIG13LnRvcCgpLmFwcC5jc3NFZGl0b3IpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbXcudG9wKCkuYXBwLmNzc0VkaXRvci5wdWJsaXNoSWZDaGFuZ2VkKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChtdy50b3AoKS5hcHApIHtcclxuICAgICAgICAgICAgICAgIGlmIChtdy50b3AoKS5hcHAgJiYgbXcudG9wKCkub3B0aW9ucykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBtdy50b3AoKS5vcHRpb25zLnB1Ymxpc2hUZW1wT3B0aW9ucyhkb2N1bWVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG13LmxpdmVFZGl0U2F2ZVNlcnZpY2Uuc2F2ZURpc2FibGVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYm9keSA9IG13LmxpdmVFZGl0U2F2ZVNlcnZpY2UucGFyc2VDb250ZW50KCkuYm9keSxcclxuICAgICAgICAgICAgICAgICAgICBlZGl0cyA9IGJvZHkucXVlcnlTZWxlY3RvckFsbCgnLmVkaXQuY2hhbmdlZCcpO1xyXG4gICAgICAgICAgICAgICAgZGF0YSA9IG13LmxpdmVFZGl0U2F2ZVNlcnZpY2UuY29sbGVjdERhdGEoZWRpdHMpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgYW5pbWF0aW9ucyA9IChtdy5fX3BhZ2VBbmltYXRpb25zIHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLmFuaW1hdGlvbiAhPT0gJ25vbmUnO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChhbmltYXRpb25zICYmIGFuaW1hdGlvbnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6ICd0ZW1wbGF0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnYW5pbWF0aW9ucy1nbG9iYWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBKU09OLnN0cmluZ2lmeShhbmltYXRpb25zKVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBtdy50b3AoKS5vcHRpb25zLnNhdmVPcHRpb24ob3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAvLyBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+ICB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgbXcub3B0aW9ucy5zYXZlT3B0aW9uKG9wdGlvbnMsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgaWYgKG13LnRvb2xzLmlzRW1wdHlPYmplY3QoZGF0YSkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2Vzcy5jYWxsKHt9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgbXcuX2xpdmVlZGl0RGF0YSA9IGRhdGE7XHJcblxyXG4gICAgICAgICAgICBtdy50cmlnZ2VyKCdzYXZlU3RhcnQnLCBtdy5fbGl2ZWVkaXREYXRhKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB4aHIgPSBtdy5saXZlRWRpdFNhdmVTZXJ2aWNlLmNvcmVTYXZlKG13Ll9saXZlZWRpdERhdGEpO1xyXG4gICAgICAgICAgICB4aHIuZXJyb3IoZnVuY3Rpb24gKHNkYXRhKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT0gNDAzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsID0gbXcuZGlhbG9nKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdzYXZlX2NvbnRlbnRfZXJyb3JfaWZyYW1lX21vZGFsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogXCI8aWZyYW1lIGlkPSdzYXZlX2NvbnRlbnRfZXJyb3JfaWZyYW1lJyBzdHlsZT0nb3ZlcmZsb3cteDpoaWRkZW47b3ZlcmZsb3cteTphdXRvOycgY2xhc3M9J213LW1vZGFsLWZyYW1lJyA+PC9pZnJhbWU+XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAkKHdpbmRvdykud2lkdGgoKSAtIDkwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICQod2luZG93KS5oZWlnaHQoKSAtIDkwXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG13LmFza3VzZXJ0b3N0YXkgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbXcuJChcIiNzYXZlX2NvbnRlbnRfZXJyb3JfaWZyYW1lXCIpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRvYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzYXZlX2NvbnRlbnRfZXJyb3JfaWZyYW1lJykuY29udGVudFdpbmRvdy5kb2N1bWVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLm9wZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLndyaXRlKHhoci5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNhdmVfY29udGVudF9lcnJvcl9pZnJhbWVfcmVsb2FkcyA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzYXZlX2NvbnRlbnRfZXJyb3JfaWZyYW1lJykuY29udGVudFdpbmRvdy5kb2N1bWVudDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG13LiQoXCIjc2F2ZV9jb250ZW50X2Vycm9yX2lmcmFtZVwiKS5sb2FkKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNsb3VkZmxhcmUgY2FwdGNoYVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzX2NmID0gbXcuJCgnLmNoYWxsZW5nZS1mb3JtJywgZG9jKS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlX2NvbnRlbnRfZXJyb3JfaWZyYW1lX3JlbG9hZHMrKztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNfY2YgJiYgc2F2ZV9jb250ZW50X2Vycm9yX2lmcmFtZV9yZWxvYWRzID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXcuYXNrdXNlcnRvc3RheSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtdy4kKCcjc2F2ZV9jb250ZW50X2Vycm9yX2lmcmFtZV9tb2RhbCcpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDE1MCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZmFpbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZhaWwuY2FsbChzZGF0YSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHhoci5zdWNjZXNzKGZ1bmN0aW9uIChzZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgbXcuJCgnLmVkaXQuY2hhbmdlZCcpLnJlbW92ZUNsYXNzKCdjaGFuZ2VkJyk7XHJcbiAgICAgICAgICAgICAgICBtdy4kKCcub3JpZ19jaGFuZ2VkJykucmVtb3ZlQ2xhc3MoJ29yaWdfY2hhbmdlZCcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lZGl0LmNoYW5nZWQnKSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG13LmxpdmVFZGl0U2F2ZVNlcnZpY2Uuc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBtdy5hc2t1c2VydG9zdGF5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgbXcudHJpZ2dlcignc2F2ZUVuZCcsIHNkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2Vzcy5jYWxsKHNkYXRhKVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHhoci5mYWlsKGZ1bmN0aW9uIChqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHtcclxuICAgICAgICAgICAgICAgIG13LnRyaWdnZXIoJ3NhdmVGYWlsZWQnLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bik7XHJcbiAgICAgICAgICAgICAgICBpZiAoZmFpbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZhaWwuY2FsbChzZGF0YSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiB4aHI7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIG13LnNhdmVMaXZlRWRpdCA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgICAgbXcubGl2ZUVkaXRTYXZlU2VydmljZS5zYXZlKHVuZGVmaW5lZCwgKCkgPT4gcmVzb2x2ZSh0cnVlKSwgKCkgPT4gcmVzb2x2ZShmYWxzZSkpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9O1xyXG5cclxuICAgIG13LnRvcCgpLmFwcC5zYXZlID0gYXN5bmMgKCkgPT4ge1xyXG5cclxuICAgICAgICByZXR1cm4gYXdhaXQgbXcuc2F2ZUxpdmVFZGl0KClcclxuICAgIH07XHJcblxyXG5cclxuICAgIGFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XHJcblxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIG13LnRvcCgpLmFwcC5jYW52YXMuZGlzcGF0Y2goJ2lmcmFtZUtleURvd24nLCB7ZXZlbnR9KVxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgbXcuJCgnc3Bhbi5tdy1wb3dlcmVkLWJ5Jykub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBtdy50b3AoKS50b29scy5vcGVuX2dsb2JhbF9tb2R1bGVfc2V0dGluZ3NfbW9kYWwoJ3doaXRlX2xhYmVsL2FkbWluJywgJ213LXBvd2VyZWQtYnknKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgY29uc3QgX2hhbmRsZUVtcHR5RWRpdEZpZWxkcyA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIG1hbmFnZU5vZGUobm9kZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXNFbXB0eUxpa2UgPSAhbm9kZS5pbm5lckhUTUwudHJpbSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpc0VtcHR5TGlrZSAmJiBub2RlLmlubmVySFRNTC50cmltKCkgPT09IG5vZGUudGV4dENvbnRlbnQudHJpbSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbXcuZWxlbWVudChub2RlKS5hcHBlbmQoYDxwIGNsYXNzPVwiZWxlbWVudFwiIGRhdGEtbXdwbGFjZWhvbGRlcj1cIiR7bXcubGFuZyhgVGhpcyBpcyBzYW1wbGUgdGV4dCBmb3IgeW91ciBwYWdlYCl9XCI+PC9wPmApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBub2RlLmNsYXNzTGlzdFtpc0VtcHR5TGlrZSA/ICdhZGQnIDogJ3JlbW92ZSddKCdtdy1sZS1lbXB0eS1lbGVtZW50Jyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5lZGl0JykuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFub2RlLl9fJCRfaGFuZGxlRW1wdHlFZGl0RmllbGRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5fXyQkX2hhbmRsZUVtcHR5RWRpdEZpZWxkcyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFuYWdlTm9kZShub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYW5hZ2VOb2RlKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIG13LnRvcCgpLmFwcC5vbignZWRpdENoYW5nZWQnLCBlZGl0ID0+IHtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gbWFuYWdlTm9kZShlZGl0KSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgX2hhbmRsZUVtcHR5RWRpdEZpZWxkcygpXHJcblxyXG5cclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICBsZXQgX2JlZm9yZVVubG9hZCA9IG51bGw7XHJcblxyXG4gICAgbXcudG9wKCkuYXBwLmlzTmF2aWdhdGluZyA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gISFfYmVmb3JlVW5sb2FkICYmIF9iZWZvcmVVbmxvYWQucmV0dXJuVmFsdWUgJiYgX2JlZm9yZVVubG9hZC5kZWZhdWx0UHJldmVudGVkID09PSB0cnVlXHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBzZWxmLm9uYmVmb3JldW5sb2FkID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgX2JlZm9yZVVubG9hZCA9IGV2ZW50O1xyXG5cclxuICAgICAgICAvLyBwcmV2ZW50IHVzZXIgZnJvbSBsZWF2aW5nIGlmIHRoZXJlIGFyZSB1bnNhdmVkIGNoYW5nZXNcclxuICAgICAgICAgdmFyIGxpdmVFZGl0SWZyYW1lID0gc2VsZjtcclxuXHJcbiAgICAgICAvLyB2YXIgbGl2ZUVkaXRJZnJhbWUgPSBtdy50b3AoKS5hcHAuY2FudmFzLmdldFdpbmRvdygpO1xyXG5cclxuICAgICAgICBsaXZlRWRpdElmcmFtZS5tdy5pc05hdmlnYXRpbmcgPSB0cnVlO1xyXG4gICAgICAgIGlmKCB0eXBlb2YobXcudG9wKSA9PT0gJ2Z1bmN0aW9uJyAmJiBtdy50b3AoKS5hcHAuY2FudmFzKSB7XHJcbiAgICAgICAgICAgIG13LnRvcCgpLmFwcC5jYW52YXMuZGlzcGF0Y2goJ2xpdmVFZGl0Q2FudmFzQmVmb3JlVW5sb2FkJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uIChsaXZlRWRpdElmcmFtZSkge1xyXG4gICAgICAgICAgICBpZiAobGl2ZUVkaXRJZnJhbWUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChsaXZlRWRpdElmcmFtZSAmJiBsaXZlRWRpdElmcmFtZS5tdykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpdmVFZGl0SWZyYW1lLm13LmlzTmF2aWdhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgMSwgbGl2ZUVkaXRJZnJhbWUpO1xyXG5cclxuXHJcbiAgICAgICAgaWYgKGxpdmVFZGl0SWZyYW1lXHJcbiAgICAgICAgICAgICYmIGxpdmVFZGl0SWZyYW1lLm13ICYmIGxpdmVFZGl0SWZyYW1lLm13LmFza3VzZXJ0b3N0YXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYoIHR5cGVvZihtdy50b3ApID09PSAnZnVuY3Rpb24nICYmIG13LnRvcCgpLmFwcC5jYW52YXMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBmcmFtZSA9IG13LnRvcCgpLmFwcC5jYW52YXMuZ2V0RnJhbWUoKTtcclxuICAgICAgICAgICAgICAgIGlmIChmcmFtZSAmJiBmcmFtZS5wYXJlbnRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbXcudG9wKCkuc3Bpbm5lcih7ZWxlbWVudDogZnJhbWUucGFyZW50RWxlbWVudCwgZGVjb3JhdGU6IHRydWUsIHNpemU6IDUyfSkuc2hvdygpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBtdy5kcmFnID0gbXcuZHJhZyB8fCB7fTtcclxuICAgIG13LmRyYWcuc2F2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbXcubGl2ZUVkaXRTYXZlU2VydmljZS5zYXZlKCk7XHJcbiAgICB9O1xyXG4gICAgbXcuZHJhZy5maXhfcGxhY2Vob2xkZXJzID0gZnVuY3Rpb24gKGlzSGFyZCwgc2VsZWN0b3IpIHtcclxuICAgICAgICBzZWxlY3RvciA9IHNlbGVjdG9yIHx8ICcuZWRpdCAucm93JztcclxuXHJcbiAgICAgICAgdmFyIG1vcmVfc2VsZWN0b3JzMiA9ICdkaXYuY29sLW1kJztcclxuICAgICAgICB2YXIgYSA9IG13LnRvcCgpLmFwcC50ZW1wbGF0ZVNldHRpbmdzLmhlbHBlckNsYXNzZXMuZXh0ZXJuYWxfZ3JpZHNfY29sX2NsYXNzZXM7XHJcbiAgICAgICAgdmFyIGluZGV4O1xyXG4gICAgICAgIGZvciAoaW5kZXggPSBhLmxlbmd0aCAtIDE7IGluZGV4ID49IDA7IC0taW5kZXgpIHtcclxuICAgICAgICAgICAgbW9yZV9zZWxlY3RvcnMyICs9ICcsZGl2LicgKyBhW2luZGV4XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbXcuJChzZWxlY3RvcikuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBlbCA9IG13LiQodGhpcyk7XHJcbiAgICAgICAgICAgIGVsLmNoaWxkcmVuKG1vcmVfc2VsZWN0b3JzMikuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZW1wdHlfY2hpbGQgPSBtdy4kKHRoaXMpLmNoaWxkcmVuKCcqJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZW1wdHlfY2hpbGQuc2l6ZSgpID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBtdy4kKHRoaXMpLmFwcGVuZCgnPGRpdiBjbGFzcz1cImVsZW1lbnRcIiBpZD1cIm13LWVsZW1lbnQtJyArIG13LnJhbmRvbSgpICsgJ1wiPicgKyAnPC9kaXY+Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVtcHR5X2NoaWxkID0gbXcuJCh0aGlzKS5jaGlsZHJlbihcImRpdi5lbGVtZW50XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIG13LmRyYWcubW9kdWxlX3NldHRpbmdzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB0YXJnZXQgPSBtdy50b3AoKS5hcHAubGl2ZUVkaXQubW9kdWxlSGFuZGxlLmdldFRhcmdldCgpO1xyXG4gICAgICAgIHJldHVybiBtdy50b3AoKS5hcHAuZWRpdG9yLmRpc3BhdGNoKCdvbk1vZHVsZVNldHRpbmdzUmVxdWVzdCcsIHRhcmdldCk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuXHJcbiAgICAgICAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcclxuICAgICAgICB2YXIgbGluayA9IG13LnRvb2xzLmZpcnN0UGFyZW50T3JDdXJyZW50V2l0aFRhZyh0YXJnZXQsICdhJyk7XHJcblxyXG4gICAgICAgIGlmIChsaW5rICYmIGxpbmsuaHJlZi5pbmRleE9mKCdqYXZhc2NyaXB0OicpICE9PSAwICYmICFsaW5rLmlzQ29udGVudEVkaXRhYmxlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRtcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgICAgICAgICAgdG1wLmhyZWYgPSBsaW5rLmhyZWY7XHJcbiAgICAgICAgICAgIGlmICh0bXAuaG9zdCAhPT0gbG9jYXRpb24uaG9zdCAmJiAoIWxpbmsudGFyZ2V0IHx8IGxpbmsudGFyZ2V0ID09PSAnX3NlbGYnKSkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIG9wZW4obGluay5ocmVmKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KVxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIGlmIChldmVudC5jdHJsS2V5ICYmIGV2ZW50LmtleUNvZGUgPT09IDgzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtdy50b3AoKS5hcHAuZWRpdG9yLmRpc3BhdGNoKCdDdHJsK1MnLCBldmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnbXctbGl2ZS1ib2R5LW1vdXNlLW1vdmVkLW91dHNpZGUnKTtcclxuXHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgJCgnYm9keScpLmFkZENsYXNzKCdtdy1saXZlLWJvZHktbW91c2UtbW92ZWQtb3V0c2lkZScpO1xyXG4gICAgfSk7XHJcblxyXG59XHJcbmlmIChzZWxmID09PSB0b3ApIHtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICBpZiAod2luZG93Lm13TGl2ZUVkaXRJZnJhbWVCYWNrVXJsKSB7XHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgPGE+IGVsZW1lbnQgKGJ1dHRvbilcclxuICAgICAgICAgICAgdmFyIHN0aWNreUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgICAgICAgICAgc3RpY2t5QnV0dG9uLmlkID0gJ2JhY2stdG8tbGl2ZS1zdGlja3ktYnV0dG9uJztcclxuICAgICAgICAgICAgc3RpY2t5QnV0dG9uLnRleHRDb250ZW50ID0gJ0dvIExpdmUgRWRpdCc7XHJcbiAgICAgICAgICAgIHN0aWNreUJ1dHRvbi5ocmVmID0gd2luZG93Lm13TGl2ZUVkaXRJZnJhbWVCYWNrVXJsO1xyXG4gICAgICAgICAgICBzdGlja3lCdXR0b24uY2xhc3NMaXN0LmFkZCgnc3RpY2t5Jyk7XHJcblxyXG4gICAgICAgICAgICAvLyBBcHBlbmQgdGhlIGJ1dHRvbiB0byB0aGUgZG9jdW1lbnQgYm9keVxyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHN0aWNreUJ1dHRvbik7XHJcblxyXG4gICAgICAgICAgICAvLyBBcHBseSBzdGlja3kgYmVoYXZpb3JcclxuICAgICAgICAgICAgc3RpY2t5QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3N0aWNreScpO1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgYW5kIGFwcGx5IHRoZSBDU1Mgc3R5bGUgZHluYW1pY2FsbHlcclxuICAgICAgICAgICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcclxuICAgICAgICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSBgXHJcbiAgICAgICAgICAgICAgICAgICAgI2JhY2stdG8tbGl2ZS1zdGlja3ktYnV0dG9uIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiA1MCU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgei1pbmRleDogMTAwMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogdG9wIDAuM3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICMzNDk4ZGI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjZmZmICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEwcHggMjBweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IG5vbmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICNiYWNrLXRvLWxpdmUtc3RpY2t5LWJ1dHRvbjpob3ZlciB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICMyOTgwYjk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgI2JhY2stdG8tbGl2ZS1zdGlja3ktYnV0dG9uLnN0aWNreSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogMDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICBgO1xyXG5cclxuICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyB0b2RvOiByZW1vdmVcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubm8tc2VsZWN0IFtjbGFzcyo9XCJjb2xcIl0nKS5mb3JFYWNoKGZ1bmN0aW9uKG5vZGUpe1xyXG4gICAgICAgICAgICBpZihBcnJheS5mcm9tKG5vZGUuY2hpbGRyZW4pLmZpbHRlcihjID0+IGMuY2xhc3NMaXN0LmNvbnRhaW5zKCdlbGVtZW50JykpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgbm9kZS5jbGFzc0xpc3QuYWRkKCdhbGxvdy1zZWxlY3QnKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcblxyXG4iXSwibmFtZXMiOlsiZGF0YSIsImJvZHkiLCJtYXRjaCIsInAxIiwieGhyIiwic2F2ZWRfZGF0YSIsInJvb3QiLCJkb2MiLCJhbGwiLCJsIiwiaSIsImVkaXRzIiwiZmluYWwiLCJodG1sIiwiaGVscGVyIiwibWFzdGVyIiwicmVsIiwibG9vcCIsImNscyIsImZpZWxkIiwiaXNFbXB0eSIsImNvbnRlbnQiLCJhdHRyX29iaiIsImF0dHJzIiwiYWkiLCJhbCIsIm9iaiIsIm9iamRhdGEiLCJzdWNjZXNzIiwiZmFpbCIsImFuaW1hdGlvbnMiLCJpdGVtIiwib3B0aW9ucyIsInNkYXRhIiwic2F2ZV9jb250ZW50X2Vycm9yX2lmcmFtZV9yZWxvYWRzIiwiaXNfY2YiLCJqcVhIUiIsInRleHRTdGF0dXMiLCJlcnJvclRocm93biIsInJlc29sdmUiLCJldmVudCIsImUiLCJtYW5hZ2VOb2RlIiwibm9kZSIsImlzRW1wdHlMaWtlIiwiZWRpdCIsIl9iZWZvcmVVbmxvYWQiLCJsaXZlRWRpdElmcmFtZSIsImZyYW1lIiwiaXNIYXJkIiwic2VsZWN0b3IiLCJtb3JlX3NlbGVjdG9yczIiLCJhIiwiaW5kZXgiLCJlbCIsImVtcHR5X2NoaWxkIiwidGFyZ2V0IiwibGluayIsInRtcCIsInN0aWNreUJ1dHRvbiIsInN0eWxlIiwiYyJdLCJtYXBwaW5ncyI6IkFBSUEsR0FBRyxPQUFPLE9BQVMsT0FBTyxJQUFLLENBRTNCLEdBQUcsUUFBUSxjQUFjLEVBQ3pCLEdBQUcsUUFBUSxhQUFhLEVBS3hCLEdBQUcsSUFBSSxRQUFRLFVBQVUsRUFFekIsR0FBRyxvQkFBc0IsQ0FDckIsYUFBYyxTQUFVQSxFQUFNLENBRTFCLFVBQUcsRUFBRSxnQkFBaUJBLENBQUksRUFBRSxPQUFNLEVBQ2xDLEdBQUcsRUFBRSxpQkFBa0JBLENBQUksRUFBRSxPQUFNLEVBQ25DLEdBQUcsRUFBRSxRQUFTQSxDQUFJLEVBQUUsS0FBSyxVQUFZLENBQ2pDLEdBQUcsRUFBRSxJQUFJLEVBQUUsWUFBWSxLQUFLLFNBQVMsQ0FDckQsQ0FBYSxFQUNELEdBQUcsRUFBRSxrQkFBbUJBLENBQUksRUFBRSxXQUFXLGVBQWUsRUFDeEQsR0FBRyxFQUFF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
